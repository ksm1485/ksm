<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // function 키워드로 함수를 선언
        // 양식
        // function 함수명(전달인자들){}
        // 전달인자에는 타입을 적지 않는다

        function plus(x, y){
            console.log('x', x)
            console.log('y', y)

            let z = x + y;
            return z;
        }
        let a = plus(2, 3);
        console.log('a :', a);
        plus(2, plus(2, 3)); // 위에랑 값이 같음
        
        console.log('----------------------------------------------------------------------------------')
        let b = plus();
        console.log('b :', b);
        console.log('--------------------------------------------------------------------------------')
        let c = plus(4);
        console.log('c :', c);
        console.log('-------------------------------------------------------------------------------')
        let d = plus(4,5,6,7);
        console.log('d :', d);
        
        console.log('--------------------------------------------------------------------------------------')
        function plus(x,y){
            if(x == undefined){
                x = 0;
            }
            if(y == undefined){
                y = 0;
            }
            return x + y;
        }

        // 전달인자가 없는 경우 초기값 적용
        // 있으면 전달인자 사용
        // 위에랑 같은 코드
        function plus3(x=0, y=1){
            return x + y;
        }
        console.log('---------------------------------------------------------------------------------')
        
        console.log(1,2,3,4,5,6);
        // spread 연산자
        function log( ...obj ) {
            console.log( typeof obj ) //배열       
            console.log( obj[1] )       
            console.log( obj )        
        }
        log(1,2)                                                        
        let f = [10, 20]
        console.log(...f);          // 이거랑
        console.log(f[0], f[1]);    // 이거랑 같음
        console.log(10, 20);        // 이거랑 같음
        
        let g = "console.log(123)"
        eval(g);    //String을 javascript로 변환

        function print(){
            console.log('print 실행')
        }
        let p = print;
        console.log('typeof p : ', typeof p)
        p();

        let p2 = print();
        console.log('p2 : ', p2)
        
        console.log('typeof print : ', typeof print)

        function print2(){
            console.log('print3(거짓말) 실행')
        }
        print2()

        function over(x){
            console.log('x : ', x)      
        }                               
    
        function over(x, y){                // over라는 변수에 덮어쓰기됨
            console.log('x,y : ', x)        // 오버로딩 안됨
        }
        over(1)
        // console.log(2, typeof over);
        // over()

        // callback
        // 원달러 환율 계산 함수
        function change_en_ko( dollar ){
            return dollar * 1354.75;
        }
        // 달러원 환율 계산 함수
        function change_ko_en( own ){
            return own / 1354.75;
        }

        // 환전 함수
        // 전달인자 : 금액, 환율 계산 함수
        function change( money, callback ) {
            console.log('환전을 시작합니다')
            
            if( typeof callback == 'function'){
            let result = callback(money)
            return result;
            } else {
                console.log('콜백 함수 없음')
            }
        }
        const money = change( 100, change_en_ko );
        console.log('환전된 금액은', money);
        change( 100 );

        // 익명 함수
        let noName = function(){
            console.log('익명함수')
        }
        noName();
        // 위에 것과 완벽히 동일
        // function noName(){
        //     console.log('익명함수')
        // }

        const m = 100;
        change(m, noName);
        change(100,function (){
            console.log( '익명함수' )
        });

        console.log('---------------------------------------------------------------------------------')
        // setTimeout
        // 첫번째 전달인자 : 실행할 함수(콜백함수)
        // 두번째 전달인자 : 지연 시간(1/1000초)
        // setTimeout(noName,1000*3);
        let st1 = setTimeout(
            function(){
                console.log('3초뒤 실행됨')
            }
            , 1000*3
        );
        console.log('콘솔 출력')
        
        console.log('st1', st1)
        clearTimeout(st1)

        setTimeout(
            function(){
                console.log('3초뒤 실행됨2')
            }
            , 1000*3
        );

        // setInterval
        // 계속해서 같은 시간으로 반복
        let si = setInterval(function() {
            console.log('setInterval 실행')
            console.log('.')
        }, 1000 * 2 )
        // clearInterval(si) // 예약취소
        
        setTimeout(function(){
            clearTimeout(si)
        }, 5000)

        
        // 화살표 함수 arrow function
        let test0 = function (a,b){
            console.log(a,b)
            return a;
        }
        // 익명 함수일 경우 화살표 함수로 변경할 수 있다
        let test1 = (a,b) => {
            console.log(a,b)
            return a;
        }
        
        // 전달인자가 하나일 때 만
        // 전달인자의 광호를 생략할 수 있다
        let test2 = (a) => {
        console.log(a)
        return a;
        }
        let test3 = a => {
        console.log(a)
        return a;
        }

        //전달인자가 없을 때 () 생략 불가능
        let test4 = () => {

        }

        let test5 = (a,b) => {
            return a + b;
        }

        //실행문 안의 내용이 return문 "만" 있는 경우
        //return과 {} 생략 가능
        let test6 = (a, b) => a + b;
        
        let test7 = a => a * 3;
        console.log(test7(9))

    </script>
</head>
<body>
    
</body>
</html>