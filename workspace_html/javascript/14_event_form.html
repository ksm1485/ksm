<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="asset/js/14_event_form.js"></script>
    <style>
        #parent{
            background-color: yellow;
            padding: 10px;
        }
        #child1{
            background-color: aqua;
        }
        #child2{
            background-color: brown;
        }
    </style>
</head>
<body>
    <form id="form" method="get" action="https:/search.naver.com/search.naver">
        <input type="text" id="keyword" name="query" placeholder="검색어를 입력해주세요">
        <select id="site">
            <option value="1">네이버</option>
            <option value="2">구글</option>
        </select>
        <button type="submit">검색</button>
    </form>
    <div id="parent">
        부모
        <div id="child1">자식1</div>
        <div id="child2">자식2</div>

    </div>
    
    <!--
        * 문제1 *
        여러개의 checkbox이 있을 때
        선택 버튼을 클릭하면
        선택한 토핑의 값을 따로 출력

        * 문제2 *
        전체 선택을 구현하시오
            문제 2-1
            전체 선택 체크 시 모두 선택
            전체 선택 체크 해제 시 모두 선택 해제
            문제 2-2
            전체 선택 후 하나라도 해제되면 전체 선택도 해제
            전체 선택이 해제 된 경우에도 모든 요소 선택 시 전체 선택 체크
    -->
    
    <div>
        피자토핑
        <hr>
        <input type="checkbox" clsss="chk_all">전체선택<br>

        <input type="checkbox" class="chk" value="페페로니">페페로니
        <input type="checkbox" class="chk" value="베이컨">베이컨
        <input type="checkbox" class="chk" value="치즈">치즈
        <input type="checkbox" class="chk" value="파인애플">파인애플
        <input type="checkbox" class="chk" value="버섯">버섯
        <input type="checkbox" class="chk" value="옥수수">옥수수
        <br>
        <input type="button" value="선택">
    </div>
    <div>
        토핑 : <span id="topping"></span>
    </div>

    <script>
        // 전체 선택 구현
        // 전체 선택 체크 시 모두 선택
        // 전체 선택 체크 했을 "때"
        document.querySelector('.chk_all').addEventListener('click',function(){
            // 전체 선택 체크라면
            let list_chk = document.querySelectorAll('.chk')
            if(document.querySelector('chk_all').check){
                // 모두 선택
                for(let i=0; i<list_chk.length; i++){
                    list_chk[i].checkde = ture;
                }
            } else {
                // 모두 해제
                for(let i=0; i<list_chk.length; i++){
                    list_chk[i].checkde = false;
                }
            }
        })

        // 문제2-2
        // 전체 선택 후 하나라도 해제되면 전체 선택도 해제
        let list_chk = document.querySelectorAll('.chk')

        for(let i=0; i<list_chk.length; i++){
             list_chk[i].addEventListener('.chk_all', function(){
                // 내가 선택 해제 되었다면
                if(!list_chk[i].checked){
                    document.querySelector('.chk_all').checked = false;
                } else if (list_chk[i].checked){
                    // 전체 선택이 해제 된 경우에도 모든 요소 선택 시 전체 선택 체크
                    
                    // 내가 선택 되었다면
                    // 전체 개수와 체크된 개수를 비교해서
                    // 같으면 전체선택 체크
                    let list_chk_y = document.querySelectorAll('.chk:checked')
                    if( list_chk_y.length == list_chk_y.length){
                        document.querySelector('.chk_all').checked = ture;
                    }
                }
             })
        }

    </script>
</body>
</html>